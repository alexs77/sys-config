# Force remove apt...
- name: software | flameshot | remove apt package
  ansible.builtin.apt:
    name: flameshot
    purge: yes
    state: absent
  when: flameshot is defined and flameshot

# ...and snap package
- name: software | flameshot | remove snap package
  tags: packages,snap,flameshot,workstation-packages
  community.general.snap:
    name: flameshot
    # channel: latest/edge
    state: absent
  when:
    - ansible_distribution != "Archlinux"
    - flameshot is defined
    - flameshot

- name: software | flameshot | install/remove appimage package
  tags: apps,flameshot,appimage,software,workstation-packages
  ansible.builtin.include_tasks: "_appimage_pkg.yml"
  vars:
    package: {
      name: flameshot,
      flag: flameshot,
      url: https://github.com/flameshot-org/flameshot/releases/download/v0.10.2/Flameshot-0.10.2.x86_64.AppImage,
      dest: bin/flameshot
    }
