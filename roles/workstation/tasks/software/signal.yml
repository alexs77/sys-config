- name: software | signal | install package
  tags: packages,flatpak,signal,workstation-packages
  become_user: alex
  community.general.flatpak:
    name: org.signal.Signal
    method: user
    state: present
  when: signal is defined and signal == true

- name: software | signal | enable autostart
  tags: packages,flatpak,signal,workstation-packages
  ansible.builtin.file:
    src: /home/alex/.local/share/flatpak/exports/share/applications/org.signal.Signal.desktop
    dest: /home/alex/.config/autostart/org.signal.Signal.desktop
    owner: alex
    ansible.builtin.group: alex
    state: link
  when: signal is defined and signal == true
